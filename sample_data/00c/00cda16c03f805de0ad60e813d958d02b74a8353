if (!isLocationPermissionGranted()) {

            if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(),
                    Manifest.permission.ACCESS_FINE_LOCATION)) {

                hideNearestStationsButton();

                if (mNearestStation != null) {
                    Utils.showSnackbar(mNearestStation, getString(R.string.stations_request_location_explanation), getString(android.R.string.ok), Snackbar.LENGTH_INDEFINITE, new View.OnClickListener() {
                        @Override
                        public void onClick(View v) {
                            showRequestPermissions();
                        }
                    }, new Snackbar.Callback() {

                        @Override
                        public void onDismissed(Snackbar snackbar, int event) {
                            isLocationSnackbarShown = false;
                            if (loadedStation == null)
                                showNearestStationsButton();
                        }

                        @Override
                        public void onShown(Snackbar snackbar) {
                            isLocationSnackbarShown = true;
                        }
                    });
                }

            } else {
                showRequestPermissions();
            }
        } else {
            getMyLocation();
        }