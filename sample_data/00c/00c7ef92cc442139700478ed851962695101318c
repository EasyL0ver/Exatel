local args = {...}

if not args[1] then
	error("Usage: zipper <destination folder> <source file>")
end

if not string.find(args[1],"/") then
	error("bad argument: #1: add a slash to directory")
end

local file = fs.open(args[2],"r")
local fileInfo = textutils.unserialize(file.readAll())
file.close()
fs.makeDir(args[1])
for i, v in pairs(fileInfo) do
	local newFile = fs.open(args[1]..v.name,"a")
	newFile.write(v.data)
	newFile.close()
end