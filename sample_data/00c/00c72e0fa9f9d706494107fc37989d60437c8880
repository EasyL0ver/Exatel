package me.Niko_Ox.HideWars.SecureLock;

import java.io.ByteArrayInputStream;
import java.io.DataInputStream;

import org.bukkit.entity.Player;
import org.bukkit.plugin.messaging.PluginMessageListener;

public class PluginChannelListener implements PluginMessageListener {
	@Override
	public void onPluginMessageReceived(String channel, Player player, byte[] message) {
		if (!channel.equals("CustomChannel"))
			return;

		try {
			DataInputStream in = new DataInputStream(new ByteArrayInputStream(message));
			String command = in.readUTF();

			if (command.equals("testingistrue")) {
				String randomMessage = in.readUTF();

				System.out.print("The message is: " + randomMessage);
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}