def handle(request):
    # request object is a dict with headers and body
    slack_signing_secret = os.environ.get('SLACK_SIGNING_SECRET')
    slack_timestamp = request['headers']['X-Slack-Request-Timestamp']
    slack_signature = request['headers']['X-Slack-Signature']
    raw_body = request['body']
    print(request)

    if abs(time.time() - float(slack_timestamp)) > 60 * 5:
        print("Replay Attack")
        return

    base_string = 'v0:{}:{}'.format(slack_timestamp, raw_body)

    my_signature = 'v0=' + hmac.new(
        bytes(slack_signing_secret, 'latin-1'),
        bytes(base_string, 'latin-1'),
        hashlib.sha256
    ).hexdigest()

    print(my_signature)

    if hmac.compare_digest(bytes(my_signature, 'latin-1'), bytes(slack_signature, 'latin-1')):
        print("Signature match")
        return
    else:
        print("Signature did not match")
        return