using System;
using System.Collections.Generic;
using System.Linq;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Audio;
using Microsoft.Xna.Framework.Content;
using Microsoft.Xna.Framework.GamerServices;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;
using Microsoft.Xna.Framework.Media;
using Microsoft.Xna.Framework.Net;
using Microsoft.Xna.Framework.Storage;
namespace pyramid_panic
{
    public class mummyWalkLeft : AnimatedSprite, IStateMummy
    {   
        
        private Mummy mummy;
        private float timer;
        private float changeStateTime;

        public float ChangeStateTime
        {
            set { this.changeStateTime = value; }
        }

        public mummyWalkLeft (Mummy mummy)
            : base(mummy)
        {
            this.mummy = mummy;
            this.currentFrame = 0;
            this.angle = 2f;

        }
        public override void Update(GameTime gameTime)
        {
            float elapsed = (float)gameTime.ElapsedGameTime.TotalSeconds;
            this.timer += elapsed;
            this.mummy.Location -= new Vector2(this.mummy.Speed * elapsed, 0f);
            if (this.mummy.Location.X < 30)
                this.mummy.IState = new MummyWalkRight(this.mummy);
            if (this.timer > changeStateTime)
            {
                this.mummy.IState = new MummyWander(this.mummy);
            }
            base.Update(gameTime);
            
        }
        public override void Draw(GameTime gameTime)
        {
            base.Draw(gameTime);
        }
    }
}