def residuals(params, xData, yData ):
    expecation = params[-1] + np.zeros(1)
    for j in range (2):
        for i in range(len(xData)):
            expecation += params[i]*xData[j][i]
    diff = expecation - yData
    return diff

def process_fit_linear_combinations(t1List,t2List,t3List, timeList, strainList, sensor_name):
    print("process data")
    combinedList = [t1List, t2List]
    print(combinedList)
    fit, ier = leastsq(residuals, [1,1,0], args=( combinedList, strainList), maxfev=5000)
    print(fit)

    f = np.polyfit(fit)
    strain_estimated = [f(t) for t in t1List]
    fig = plt.figure()
    plt.plot(t1List, strainList, t1List, strain_estimated)