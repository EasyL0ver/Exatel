#include<stdio.h>
#include<stdbool.h>
 
bool czypierwsza[1111113];
void sito()
{
 
 
for (int i = 2; i < 1111113; i++)
{
    czypierwsza[i] = true;
}
for (int i = 2; i < 1111113; i++)
{
    if (czypierwsza[i] == true)
    {
        for (int j = 2*i; j < 1111113; j = j + i)
        {
            czypierwsza[j] = false;
        }
 
    }
}
}
 
char t[11];
long long liczba (char t[], int k)
{
    long long w = 0;
    for (int j = k-1; j >= 0; j--)
    {
        w = w*10;
        w = w + (t[j] - '0');
    }
    return w;
 
}
int silnia (int k)
{
    if (k == 1)
        return 1;
    return k*silnia(k-1);
}
long long pot[12];
void potegi (long long pot[])
{
    pot[0] = 1;
    for (int i = 1; i < 12; i++)
    {
        pot[i] = 10*pot[i-1];
    }
}
bool funkcja(char t[], int m,  int k, long long x, long long war)
{
    char z;
    long long cos = war;
    if (cos > x)
        cos = cos - x;
    else
        cos = x - cos;
    cos = cos/9;
   /* for (int i = m-1; i >= 0; i--)
     {
       printf("%c", t[i], cos);
 
     }
 
     printf("\n%lld\n", cos);
     */
    if (k == m-1)
    {
 
      if (cos < 1111113)
       {
           if(czypierwsza[cos] && cos != 0)
        return 1;
        else
            return 0;
       }
         else
             return 0;
 
/* for (int i = m-1; i >= 0; i--)
     {
       printf("%c", t[i], cos);
 
     }
 
 
     printf("\n");
*/
// if (cos < 1111113)
  // printf("%d\n", czypierwsza[cos]);
 
 
    }
    else
    {
 
 
    for (int i = k; i <m; i++)
    {
        z = t[k];
        t[k] = t[i];
        t[i] = z;
    //    funkcja(t, m, k+1, x, war + t[k]*(pot[k] - pot[i]) + t[i]*(pot[i] - pot[k]));
     bool a = funkcja(t, m, k+1, x, war + t[k]*(pot[k] - pot[i]) + t[i]*(pot[i] - pot[k]));
     if (a)
        return 1;
        z = t[k];
       t[k] = t[i];
      t[i] = z;
    }
 
    }
    return 0;
}
 
 
int main()
{
    potegi(pot);
  //  for (int i = 0; i < 10; i++)
   // {
   //     printf("%lld\n", pot[i]);
   // }
    sito();
    long long n;
    long long x;
    int s;
    int w;
    int zestawy;
    scanf("%d", &zestawy);
    for (int z = 0; z < zestawy; z++)
    {
    scanf("%lld", &n);
    x = n;
    s = 0;
    while (x > 0)
    {
        s++;
        x = x/10;
    }
    x = n;
    w = 0;
    while (x > 0)
    {
        t[w] = (x - 10*(x/10)) + '0';
        x = x/10;
        w++;
    }
    x = n;
    bool czyy =  funkcja(t, s, 0, x, x);
    if (czyy)
        printf("TAK %lld\n", liczba(t,s));
    else
        printf("NIE\n");
 
 //   printf("%lld", liczba(t, s));
 
 // funkcja(t, s, 0, x, x);
    }
 
}