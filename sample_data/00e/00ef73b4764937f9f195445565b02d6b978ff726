#include <stdio.h>
#include <string.h>
#include <stdlib.h>
int main()
{
    freopen("in", "r+", stdin);
    freopen("ou", "w+", stdout);
    int t, ti=1;
    scanf("%d%*c", &t);
    while(t--)
    {
        char cmd[10], i=0;
        char *url, *stack[100000]={NULL};
        stack[i]="http://www.lightoj.com/";
        printf("Case %d:\n", ti);
        while(scanf("%s%*c", cmd)&&(strcmp(cmd, "QUIT")))
        {
            if(strcmp(cmd, "VISIT")==0)
            {
                url=(char*)malloc(sizeof(char)*53);
                scanf("%s%*c", url);
                printf("%s\n", url);
                i++;
                stack[i]=url;
            }
            else if(strcmp(cmd, "BACK")==0)
            {
                if(i!=0)
                {
                    i--;
                    printf("%s\n", stack[i]);
                }

                if(i==0)
                    printf("Ignored\n");
            }
            else if(strcmp(cmd, "FORWARD")==0)
            {
                i++;
                if(stack[i]!=NULL)  printf("%s\n", stack[i]);
                if(stack[i]==NULL)
                {
                    printf("Ignored\n");
                    i--;
                }

            }
        }
    }
    return 0;
}