const tasks = []; // array of async tasks
let concurrency = 2, running = 0, completed = 0, index = 0;

function next() {
    while(running <= concurrency && index < tasks.length) {
        task = tasks[index++];
        task(function() {
            // async callback: will execute when async task completes

            // when all tasks are completed, exit function
            if(completed === tasks.length) {
                return finish();
            }

            // when there are still tasks remaining in array
            completed++, running--;
            next(); // trigger while loop once again
        });
        running++;
    }
}

next();

function finish() {
    // all tasks completed
}