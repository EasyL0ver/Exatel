// Paul Fynn Kuemmel
// This code gets a 4 digit code first, and then an 5 digit code. Then it uses brute force to crack the code
// Then, once the code is cracked, it will output the code and say how much time it needed to crack the code.
#include <stdio.h>
#include <iostream>
#include <cstdio>
#include <vector>
#include <ctime>
#include <string>
#include <cstddef>
using namespace std;
int main()
{
    clock_t start, start2; //Prepares to run the clock twice to find the difference
    
    double duration1, duration2; //These lines prepare all of the variables which will be used in the code.
    
    string password, guess;
    
    duration1 = 0;
    
    duration2 = 0; //Starts the times at 0, as before hand I had a problem where the 2nd duration would start at 20,000
    
    start = clock(); //Starts the clock to find the time.
    char useableCharacs[62] = {'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','0'};
    // Creates an Array which will store the values of the characters in order to save time.
    cout << "Please enter your 4 digit Password: "; 
    
    cin >> password; // Gets the password
    
    while ((password.size() != 5) and (password.size() != 4)) {
        cout << "The password is not either 4 or 5 characters!"; //Outputs the error message to tell the user it has to be between 4 and 5.
        cout << " Please enter the password again: ";
        cin >> password; //If the password isn't 4 or 5 digits, this code runs and it asks for a resubmission of the password.
    }
    if (size_t found = password.find_first_of("!@#$^&?*")){ //See's if there are any special characters in the password
        cout << "The password contains special characters, which are not allowed."; //Outputs an error message to say that it isn't allowed to contain special characters
        cout << " Please enter the password again: "; //Asks for the password again
        cin >> password;
    }
    guess = ""; //Creates a location for information to be stored once it is added to the guess of the password.
    if (password.size() == 4) {
        guess = "    ";
    }
    else {
        guess = "     "; //Creates a space where the characters will be placed
    }
    for (int digit1 = 0; digit1 < sizeof(useableCharacs); digit1++) { // Adds one so that it cycles through all of the available characters
       
        guess[0] = useableCharacs[digit1]; //Takes the first digit of the guess, and stops the loop once it equals to the digit
        
        for (int digit2 = 0; digit2 < sizeof(useableCharacs); digit2++) { // Adds one so that it cycles through all of the available characters
        
            guess[1] = useableCharacs[digit2];//Takes the second digit of the guess, and stops the loop once it equals to the digit
        
            for (int digit3 = 0; digit3 < sizeof(useableCharacs); digit3++) { // Adds one so that it cycles through all of the available characters
        
                guess[2] = useableCharacs[digit3];//Takes the third digit of the guess, and stops the loop once it equals to the digit
        
                for (int digit4 = 0; digit4 < sizeof(useableCharacs); digit4++) { // Adds one so that it cycles through all of the available characters
        
                    guess[3] = useableCharacs[digit4];//Takes the fourth digit of the guess, and stops the loop once it equals to the digit
        
                    if (guess == password) {//Outputs the guess once it is right
        
                        cout << "Your password is: " << guess << endl;
        
                        duration1 = (clock() - start) / (double)CLOCKS_PER_SEC; // Calculates the time taken for the 4 digit password to crack
        
                        cout << "The time taken to crack the code is: " << duration1 << " seconds." << endl;
                    }
 
                }
 
            }
        }
    }
 
    start = clock(); //Restarts the clock to run again to find the time taken to crack a 5 digit
    
    cout << "Now enter a five digit password: ";
    
    cin >> password; //gets the new password to be broken. 
    
    while (password.size() != 5) { //If the password isn't 5 digits, it asks for it again.
    
        cout << "That is not a five digit password: ";
    
        cout << "Please enter a five digit password: ";
    
        cin >> password;
    }
    
    if (size_t found = password.find_first_of("!@#$^&?*")){ //See's if there are any special characters in the password
        cout << "The password contains special characters, which are not allowed."; //Outputs an error message to say that it isn't allowed to contain special characters
        cout << " Please enter the password again: "; //Asks for the password again
        cin >> password;
    }
   
    guess = "     ";
   
    for (int digit1 = 0; digit1 < sizeof(useableCharacs); digit1++) { // Adds one so that it cycles through all of the available characters
   
        guess[0] = useableCharacs[digit1]; //Takes the first digit of the guess, and stops the loop once it equals to the digit
   
        for (int digit2 = 0; digit2 < sizeof(useableCharacs); digit2++) { // Adds one so that it cycles through all of the available characters
   
            guess[1] = useableCharacs[digit2];//Takes the second digit of the guess, and stops the loop once it equals to the digit
    
            for (int digit3 = 0; digit3 < sizeof(useableCharacs); digit3++) { // Adds one so that it cycles through all of the available characters
   
                guess[2] = useableCharacs[digit3];//Takes the third digit of the guess, and stops the loop once it equals to the digit
         
                for (int digit4 = 0; digit4 < sizeof(useableCharacs); digit4++) { // Adds one so that it cycles through all of the available characters
         
                    guess[3] = useableCharacs[digit4];//Takes the fourth digit of the guess, and stops the loop once it equals to the digit
         
                    for (int digit5 = 0; digit5 < sizeof(useableCharacs); digit5++) { // Adds one so that it cycles through all of the available characters
         
                        guess[4] = useableCharacs[digit5];//Takes the fifth digit of the guess, and stops the loop once it equals to the digit
         
                        if (guess == password) {//Outputs the guess once it is right
         
                            cout << "Your password is: " << guess << endl;
         
                            duration2 = (clock() - start) / (double)CLOCKS_PER_SEC; //Calclates the 2nd amount of time taken to crack the 5 digit password this time.
         
                            cout << "The time taken to crack the code is: " << duration2 << " seconds." << endl;
 
                            cout << "The difference between a 4 digit password and a 5 digit password is: " << (duration2 - duration1) << " seconds." << endl; //Finds the difference between the time taken to crack a 4 digit and 5 digit password.
                        
                            cout << "A five digit code takes " << duration2 / duration1 << " times longer to crack. "; // Calculates how many times longer it takes to crack a 5 digit code than a 4 digit code.
                        
                            return 0;
                        }
 
                    }
 
                }
 
            }
        }
    }
 
       
}