#include<iostream>
//#include<conio.h>
#include<string>
#include<cmath>

using namespace std;



struct journal{
	string a;
	string b;
	int c;
};


int main ()
{
	int n, d, i, j, count=0, iter=0, k;
	struct journal *mas;
	string **mas_1;
	cin>>n>>d;
	mas=new journal[n];
	mas_1=new string*[2];
	for(i=0; i<n; i++)
		*(mas_1+i)=new string[n];
	for(i=0; i<n; i++)
	{
		cin>>(mas+i)->a;
		cin>>(mas+i)->b;
		cin>>(mas+i)->c;
	}
	for(i=0; i<n; i++)
	{
		for(j=i; j<n; j++)
			if(mas[i].a==mas[j].b)
				if(mas[j].a==mas[i].b)
					if(abs(mas[j].c-mas[i].c)<=d)
					{
						iter=0;
						for(k=0; k<count; k++)
							if((mas_1[k][0]==mas[i].a && mas_1[k][1]==mas[i].b) || (mas_1[k][0]==mas[i].b && mas_1[k][1]==mas[i].a))
								iter++;
						if(iter==0)
						{
							mas_1[count][0]=mas[i].a;
							mas_1[count][1]=mas[i].b;
							count++;
						}
					}
	}

	cout<<count;
	for(i=0; i<count; i++)
		cout<<endl<<mas_1[i][0]<<" "<<mas_1[i][1];
	//getch();
	return 0;
}