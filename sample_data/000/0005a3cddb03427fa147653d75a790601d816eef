# This is an exmaple of Infrastructure testing that can be done with Pester DSL and PowerShell

$nodes = @('node1','node2','node3','node4','node5')

Describe -Name 'Windows Appplication Service Infrastructure' -Tag 'Prod' {

    Context -Name 'Application01 Service Checks' {

        foreach ($node in $nodes) {

            It -Name "Application01 Service is Running on $node" {

                $Svc = Get-Service -ComputerName $node -Name 'Application01'
                $Svc.Status | Should -BeExactly 'Running'
    
        }

    }

}