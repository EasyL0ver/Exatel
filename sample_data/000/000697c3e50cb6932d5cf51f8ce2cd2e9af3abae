{
    "variables": {
        "clientID": "",
        "tenantID": "{{env `tenantID`}}",
        "subscriptionID": "{{env `subscriptionID`}}",
        "objectID": "",
        "rgn": "{{env `resourceGroup`}}",
        "imageSKU": "{{env `imageSKU`}}",
        "packerName": "{{env `packerName`}}",
        "packerPassword": "",
        "vnetname": "{{env `vnetName`}}",
        "subname": "{{env `subnetName`}}"
      },
    "builders": [{
      "type": "azure-arm",  
      "client_id": "{{ user `clientID` }}",
      "client_secret": "{{ user `packerPassword` }}",
      "tenant_id": "{{ user `tenantID` }}",
      "subscription_id": "{{ user `subscriptionID` }}",
      "object_id": "{{ user `objectID` }}",
      
      "managed_image_resource_group_name": "{{ user `rgn` }}",
      "managed_image_name": "{{ user `packerName` }}",
      "os_type": "Windows",
      "image_publisher": "MicrosoftWindowsServer",
      "image_offer": "WindowsServer",
      "image_sku":"{{ user `imageSKU` }}",
        
      "communicator": "winrm",
      "winrm_use_ssl": "true",
      "winrm_insecure": "true",
      "winrm_timeout": "3m",
      "winrm_username": "packer",
  
      "azure_tags": {
          "dept": "Engineering",
          "task": "Image deployment"
      },

      "build_resource_group_name": "<resourceGroup>",
      "vm_size": "Standard_D2_v2",
      "virtual_network_resource_group_name": "<vnetRGN>",
      "virtual_network_name": "<vnetName>",
      "virtual_network_subnet_name": "default"
      
    }],
    "provisioners": [
    {
      "type": "powershell",
      "scripts": [
        "Demo/sysprep.ps1"
      ]
    }]
  }