public function each($function)
{
    if (!is_callable($function)) {
        throw new IllegalArgumentException('function must be callable');
    }
    foreach ($this->instance as $index => $key) {
        $function($key, $this->instance[$key]);
    }
}