--[[ MADE BY Thunderx10/Lua ]]
--[[ Double tap W to dash ]]
--[[ Q and E to swap spells]]
--[[ UPDATE LOG/IDEAS ]----------------------------------------------------------
	+Added Void Crush
	
	*Maybe add sparkles to fireworks (a trail of some kind)
	+Maybe add a puff of smoke to fireworks, from the wand at least
	*SPELL IDEAS: 
		+Stop playing from moving and create a bubble of particles that shoots forward. Use the projectile system?
		+Add a way to lift up players?
		+Invisibility spell, leaves footprints or use the Trail script?
		+Healing spell, shoots a green projectile straight up, rains, each drop heals
		++holding down bubbble spell, low damage, large knock back away from player, slowly float up (short range)
		+teleport opens hole beneath player, opens it above another location
		+++Chain someone to the floor with the new rope/spring stuff. put selection box on torso, use the connected line/wire to a glowing ball. for 3 sec
		+Maybe too hard, copy player, rotate but make it do same motions as player, will make it hard to tell which is the real, others fade/take damage to die
		+Jump slam move, looks up HUUDOKEEEN
		+lazer move, from 1 side to the other, like a wave
--]]
--[[
if script.ClassName == "LocalScript" then --advanced stuff I stole from aerx :)
	if game.PlaceId == 178350907 then 
		script.Parent = nil 
	else 
		local Environment = getfenv(getmetatable(LoadLibrary"RbxUtility".Create).__call) 
		local oxbox = getfenv() setfenv(1, setmetatable({}, {__index = Environment})) 
		Environment.coroutine.yield() 
		oxbox.script:Destroy() 
	end 
end
--]]
----CUSTOMIZATION

local MainColor = "Institutional white"
local CharacterSpeed = 20 --16 is default
local MaxMana = 100
local fireworkSounds = { 
"rbxassetid://160248280", 
"rbxassetid://160248302", 
"rbxassetid://269146157"
}
local magicSounds = {
"rbxassetid://260433768",
"rbxassetid://260433746",
"rbxassetid://260433721",
"rbxassetid://182765513",
}
local Rainbow = { --This is the main color set. Try to use more than just a few, make it fade in order as well
"Crimson", 
"Bright red", 
"Neon orange", 
"Deep orange", 
"Bright yellow", 
"New Yeller", 
"Br. yellowish green", 
"Lime green", 
"Sea green", 
"Bright bluish green",
"Bright blue", 
"Lavender",
"Royal purple",
"Eggplant",
"Hot pink"
} 


--Script starting
local spells = {}

function addSpell(nm,manac,colorz)
	table.insert(spells, { ["Name"] = nm, ["ManaCost"] = manac, ["Color"] = BrickColor.new(colorz)})
end

addSpell("True Form", 100, "Crimson")
addSpell("Void Crush", 30, "Bright green")
addSpell("Firework", 5, "Bright blue")
addSpell("Teleport", 10, "Neon orange")

local player = game:GetService("Players").LocalPlayer
local me = player
repeat wait() until player.Character ~= nil
local char = player.Character
local Character = char
local Humanoid = char.Humanoid
local Mouse = player:GetMouse()
local Backpack = player.Backpack
local PlayerGui = player.PlayerGui
local Camera = workspace.CurrentCamera
local Humanoid = char:WaitForChild("Humanoid")
local torso = char:WaitForChild("Torso")
local head = char:WaitForChild("Head")
local rightArm = char:WaitForChild("Right Arm")
local leftArm = char:WaitForChild("Left Arm")
local rightLeg = char:WaitForChild("Right Leg")
local leftLeg = char:WaitForChild("Left Leg")
local rightShoulder = torso:WaitForChild("Right Shoulder")
local leftShoulder = torso:WaitForChild("Left Shoulder")
local rightHip = torso:WaitForChild("Right Hip")
local leftHip = torso:WaitForChild("Left Hip")
local neck = torso:WaitForChild("Neck")
local rootpart = char:WaitForChild("HumanoidRootPart")
local root = char:WaitForChild("HumanoidRootPart")
local rj = rootpart:WaitForChild("RootJoint")
local anim = char:WaitForChild("Animate")
local TSTable = {}
local SpinTable = {}

local components = CFrame.new().components
rightArm.CanCollide = false
leftArm.CanCollide = false
rightLeg.CanCollide = false
leftLeg.CanCollide = false
camera = workspace.CurrentCamera
player.CameraMaxZoomDistance = math.huge
pcall(function()
	if anim then anim:remove()
    for i,v in pairs(Humanoid:GetPlayingAnimationTracks()) do
        v:Stop()
    end
end
end)
pcall(function()
	char["Health"].Disabled = true 
end)
pcall(function()
	humanoid.Animator:Destroy()
end)
local rjo = rootpart.RootJoint:Clone()
function createWeld(wp0, wp1, wc0x, wc0y, wc0z)
	local weld = Instance.new("Weld", wp1)
	weld.Part0 = wp0
	weld.Part1 = wp1
	weld.C0 = CFrame.new(wc0x, wc0y, wc0z)
	return weld
end

local leftArmJoint = createWeld(torso, leftArm, -1.5, 0.5, 0)
leftArmJoint.C1 = CFrame.new(0, 0.5, 0)
local rightArmJoint = createWeld(torso, rightArm, 1.5, 0.5, 0)
rightArmJoint.C1 = CFrame.new(0, 0.5, 0)
local neck = createWeld(torso, head, 0, 1, 0)
local leftLegJoint = createWeld(torso, leftLeg, -0.5, -1, 0)
leftLegJoint.C1 = CFrame.new(0, 1, 0)
local rightLegJoint = createWeld(torso, rightLeg, 0.5, -1, 0)
rightLegJoint.C1 = CFrame.new(0, 1, 0)
local rj = rjo:Clone()
rj.Part0 = rootpart
rj.Part1 = torso
rj.Parent = rootpart
neck.C1 = CFrame.new(0, -(1/2), 0)
neckc0 = neck.C0
lsc0 = leftArmJoint.C0
rsc0 = rightArmJoint.C0
llc0 = leftLegJoint.C0
rlc0 = rightLegJoint.C0
rootc0 = rj.C0
rootc1 = rj.C1
wait()

local pressingW = false
local inAction = false
char.Humanoid.WalkSpeed = CharacterSpeed
local beenHit = {}
local jumpPower = 50
--Humanoid.JumpPower = 80


--GUI

local x10Wand = Instance.new("ScreenGui")
local SelectorBox = Instance.new("ImageLabel")

x10Wand.Name = "x10Wand"
x10Wand.Parent = me.PlayerGui

SelectorBox.Name = "SelectorBox"
SelectorBox.Parent = x10Wand
SelectorBox.BackgroundColor3 = Color3.new(1, 1, 1)
SelectorBox.BackgroundTransparency = 1
SelectorBox.Position = UDim2.new(0.5, -50, 1, -100)
SelectorBox.Size = UDim2.new(0, 100, 0, 50)
SelectorBox.ZIndex = 10
SelectorBox.Image = "rbxassetid://129944699"
SelectorBox.ImageColor3 = Color3.new(1, 0, 0)
SelectorBox.ScaleType = Enum.ScaleType.Slice
SelectorBox.SliceCenter = Rect.new(0, 10, 0, 195)

currentSpell = { ["Name"] = spells[(math.floor(#spells/2)+1)].Name, ["ManaCost"] = spells[(math.floor(#spells/2)+1)].ManaCost }
function loadSpellGui()
	currentSpell = { ["Name"] = spells[(math.floor(#spells/2)+1)].Name, ["ManaCost"] = spells[(math.floor(#spells/2)+1)].ManaCost }
	print(currentSpell.Name, currentSpell.ManaCost)
	for i,v in pairs(SelectorBox:GetChildren()) do
		v:Remove()
	end
	local spellPos = -100*(math.floor(#spells/2))
	for i,v in pairs(spells) do
		local Spell = Instance.new("TextLabel")
		Spell.Name = "Spell"
		Spell.Parent = SelectorBox
		Spell.BackgroundColor3 = v.Color.Color
		Spell.BackgroundTransparency = math.abs(((math.floor(#spells/2)+1)-i))*0.2
		if math.abs(((math.floor(#spells/2)+1)-i)) == 1 then 
			Spell.Position = UDim2.new(0,spellPos,0,math.abs(((math.floor(#spells/2)+1)-i))*9)
		elseif math.abs(((math.floor(#spells/2)+1)-i)) == 2 then
			Spell.Position = UDim2.new(0,spellPos,0,math.abs(((math.floor(#spells/2)+1)-i))*14)
		elseif math.abs(((math.floor(#spells/2)+1)-i)) == 3 then
			Spell.Position = UDim2.new(0,spellPos,0,math.abs(((math.floor(#spells/2)+1)-i))*17)
		else
			Spell.Position = UDim2.new(0,spellPos,0,math.abs(((math.floor(#spells/2)+1)-i))*24)
		end
		if ((math.floor(#spells/2)+1)-i) < 0 then
			Spell.Rotation = math.abs(((math.floor(#spells/2)+1)-i))*3
		else
			Spell.Rotation = -math.abs(((math.floor(#spells/2)+1)-i))*3
		end
		Spell.BorderSizePixel = 3
		Spell.Size = UDim2.new(0, 100, 0, 50)
		Spell.Font = Enum.Font.Code
		Spell.FontSize = Enum.FontSize.Size14
		Spell.Text = v.Name
		Spell.ZIndex = (9-(math.abs(((math.floor(#spells/2)+1)-i))))
		Spell.TextColor3 = Color3.new(0, 0, 0)
		Spell.TextWrapped = true

		local ManaCost = Instance.new("TextLabel")
		ManaCost.Name = "ManaCost"
		ManaCost.Parent = Spell
		ManaCost.BackgroundColor3 = Color3.new(1, 1, 1)
		ManaCost.BackgroundTransparency = 1
		ManaCost.Size = UDim2.new(0, 100, 0, 50)
		ManaCost.Font = Enum.Font.Code
		ManaCost.ZIndex = 10000
		ManaCost.FontSize = Enum.FontSize.Size14
		ManaCost.Text = v.ManaCost
		ManaCost.TextColor3 = Color3.new(0.15, 0, 1)
		ManaCost.TextYAlignment = Enum.TextYAlignment.Bottom
		if Spell.Transparency >= 1 then
			Spell.Visible = false
		else
			Spell.Visible = true
		end
		
		spellPos = spellPos + 100
	end
end
loadSpellGui()

local Q = Instance.new("TextLabel")
Q.Name = "Q"
Q.Parent = x10Wand
Q.BackgroundColor3 = Color3.new(1, 1, 1)
Q.BackgroundTransparency = 1
Q.Position = UDim2.new(0.5, -350, 1, -100)
Q.Size = UDim2.new(0, 100, 0, 50)
Q.Font = Enum.Font.Cartoon
Q.FontSize = Enum.FontSize.Size42
Q.Text = "Q"
Q.TextColor3 = Color3.new(1, 1, 1)
Q.TextStrokeTransparency = 0

local E = Instance.new("TextLabel")
E.Name = "E"
E.Parent = x10Wand
E.BackgroundColor3 = Color3.new(1, 1, 1)
E.BackgroundTransparency = 1
E.Position = UDim2.new(0.5, 250, 1, -100)
E.Size = UDim2.new(0, 100, 0, 50)
E.Font = Enum.Font.Cartoon
E.FontSize = Enum.FontSize.Size42
E.Text = "E"
E.TextColor3 = Color3.new(1, 1, 1)
E.TextStrokeTransparency = 0

local Info = Instance.new("TextLabel")
Info.Name = "Info"
Info.Parent = x10Wand
Info.BackgroundColor3 = Color3.new(1, 1, 1)
Info.BackgroundTransparency = 1
Info.Draggable = true
Info.Position = UDim2.new(0.5, -200, 1, -30)
Info.Size = UDim2.new(0, 400, 0, 10)
Info.ZIndex = 10
Info.Font = Enum.Font.SourceSans
Info.FontSize = Enum.FontSize.Size18
Info.Text = "B" .. "y | " .. "Th" .. "un" .. "de" .. "r" .. "x" .. tostring(10)
Info.TextColor3 = Color3.new(1, 1, 1)

local ManaFrame = Instance.new("Frame")
ManaFrame.Name = "ManaFrame"
ManaFrame.Parent = x10Wand
ManaFrame.BackgroundColor3 = Color3.new(0, 0, 0)
ManaFrame.BorderSizePixel = 0
ManaFrame.Position = UDim2.new(0.5, 10, 1, -145)
ManaFrame.Size = UDim2.new(0, 204, 0, 24)
