USE Belov
DECLARE @n SMALLINT, @m SMALLINT
DECLARE max_stip_cursor CURSOR LOCAL FORWARD_ONLY STATIC
	FOR SELECT FIO, Stip, NameGroup 
	FROM Student
	ORDER BY Stip DESC
OPEN max_stip_cursor
SET @n=2
SET @m=0
-- определить таблицу для хранения результатов
DECLARE @top_stips TABLE (fio VARCHAR(50), stip INT)
DECLARE @fio VARCHAR(50), @x INT, @group VARCHAR(10)
FETCH NEXT FROM max_stip_cursor INTO @fio, @x, @group
WHILE @@FETCH_STATUS = 0 AND @m<@n
BEGIN
	IF @group='МДБ-16-10' AND @x<>0 
	BEGIN
	INSERT INTO @top_stips VALUES (@fio,@x)
	SET @m=@m+1
	END
	FETCH NEXT FROM max_stip_cursor INTO @fio, @x, @group
END
--вывести результаты
SELECT * FROM @top_stips
CLOSE max_stip_cursor
DEALLOCATE max_stip_cursor